# Community Entity
# A social community (Facebook Groups, Reddit subreddits, Discord servers)
#
# Design principle: Communities are where people gather around shared interests.
# Distinct from organizations (companies/institutions) and from tags (labeling).
# Renamed from "group" to avoid ambiguity with generic grouping concepts.

id: community
plural: communities
name: Community
description: A social community where people gather around shared interests

references:
  schema_org: https://schema.org/Organization  # Closest match
  wikidata: Q16818150  # online community

properties:
  id:
    type: string
    required: true
    description: Unique identifier

  name:
    type: string
    required: true
    description: Group name

  description:
    type: string
    description: Group description/about text

  url:
    type: string
    format: url
    required: true
    description: Group URL

  icon:
    references: image
    description: Group icon/avatar (subreddit icon, group image, etc.)

  member_count:
    type: string
    description: Member count as string (e.g., "2.3K", "78,000")
    # Raw format preserves platform-specific notation

  member_count_numeric:
    type: integer
    description: Parsed member count as integer (null if parsing fails)
    # Parsed for sorting/filtering

  privacy:
    type: string
    enum: [OPEN, CLOSED, SECRET]
    description: Privacy setting (OPEN = public, CLOSED = members only, SECRET = hidden)

  # Nested posts (populated by get operation when available)
  posts:
    type: array
    description: Top posts in this group (for group.get views)
    items:
      type: post

operations: [list, get, search]

display:
  primary: name
  secondary: member_count
  description: description
  image: icon
  icon: users
