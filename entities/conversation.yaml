# Conversation Entity
# A message thread

id: conversation
name: Conversation
description: A message thread

schema:
  id:
    type: string
    required: true
    description: Unique identifier
  
  name:
    type: string
    description: Group name or contact name
  
  participants:
    type: array
    items: string
    description: Participant names/identifiers
  
  last_message:
    type: string
    description: Preview of last message
  
  last_message_at:
    type: datetime
    description: When last message was sent
  
  unread_count:
    type: integer
    default: 0
    description: Number of unread messages
  
  avatar_url:
    type: string
    format: url
    description: Conversation avatar/photo

operations:
  list:
    description: List conversations
    params:
      limit:
        type: integer
        default: 50
        description: Maximum number of conversations
    returns: conversation[]
  
  get:
    description: Get a single conversation
    params:
      id:
        type: string
        required: true
        description: Conversation ID
    returns: conversation
  
  create:
    description: Create a new conversation
    params:
      participants:
        type: array
        items: string
        required: true
        description: Participant identifiers
      name:
        type: string
        description: Group name (optional for 1:1)
    returns: conversation

display:
  primary: name
  secondary: last_message
  badge: unread_count
  icon: messages
