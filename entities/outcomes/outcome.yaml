# Outcome — The Universal Atom
#
# A state of the world that either exists or doesn't. At any scale.
# Past or future. Intended or unintended.
#
# There are no tasks, milestones, goals, or destinations as separate concepts.
# Only outcomes at different scales.

id: outcome
plural: outcomes
name: Outcome
description: A state of the world — the universal planning primitive

references:
  usaid: https://usaidlearninglab.org/lab-notes/what-results-framework
  system_dynamics: https://en.wikipedia.org/wiki/System_dynamics
  theory_of_change: https://en.wikipedia.org/wiki/Theory_of_change

properties:
  id:
    type: string
    required: true

  name:
    type: string
    required: true
    description: What is this outcome?

  description:
    type: string

  # Current state (changes over time)
  value:
    type: number
    description: Current measurement (for numeric outcomes)

  unit:
    type: string

  # Target (fixed when outcome is created)
  target:
    type: object
    description: The goal to hit
    properties:
      value:
        type: number
        description: The goal number to hit
      date:
        type: date
        description: When you want this state to exist by

  # Achievement and ending (dates, not booleans!)
  achieved:
    type: datetime
    nullable: true
    description: When this outcome was achieved. Null = not yet.

  ended:
    type: datetime
    nullable: true
    description: When this outcome ceased to be true. Null = still active or N/A.

  # What this outcome produces (for downstream dependencies)
  output:
    type: object
    description: What this outcome produces for downstream dependencies
    properties:
      metric:
        type: string
      value:
        type: number
      unit:
        type: string

  # How to measure this outcome
  indicators:
    type: array
    items:
      type: string

  # Domain-specific extensions (skills define what goes here)
  data:
    type: object
    description: |
      Domain-specific extensions. Skills define what goes here.
      - Roadmap: { timing: "now" }
      - Health: { biomarker: "glucose" }
      - Trip: { location: { lat: 52.37, lng: 4.89 } }
      - Dream: { dreamt_on: "2026-02-07" }

  created_at:
    type: datetime
  updated_at:
    type: datetime

identifiers: [name]
operations: [list, get, create, update, archive, complete, reopen]

display:
  primary: name
  secondary: achieved
  icon: target
  show_as_app: false  # subtypes (task, milestone) show as apps instead
  sort:
    - field: achieved
      null_last: true
    - field: name
      order: asc
