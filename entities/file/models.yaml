# File Entity - Files and directories across multiple providers
#
# The file entity represents files from ANY source - local filesystem, cloud storage,
# or the sandboxed Agent Drive. Different plugins provide access to different sources:
#
#   Built-in (A: drive):
#     - Agent Drive (~/.agentos/drive/) - always available, sandboxed workspace for AI
#     - No plugin required, operations go directly to HTTP server
#
#   Plugins (install to expand access):
#     - macos-filesystem → Local Mac files (C: drive)
#     - linux-filesystem → Local Linux files
#     - google-drive → Google Drive files
#     - dropbox → Dropbox files
#     - onedrive → OneDrive files
#     - s3 → AWS S3 buckets
#     - etc.
#
# All providers use this same entity schema. The plugin determines WHERE the files live,
# but the data model is consistent across all sources.
#
# Usage:
#   file.list                     → Lists A: drive (built-in, no plugin)
#   file.list (plugin: macos-fs)  → Lists local Mac filesystem
#   file.list (plugin: gdrive)    → Lists Google Drive
#
# Drive letters (UI convention):
#   A: = Agent Drive (built-in)
#   C: = Local filesystem (via plugin)
#   G: = Google Drive (via plugin)
#   etc.

---
id: file
plural: files
name: File
description: A file or directory from any connected source

references:
  schema_org: https://schema.org/DigitalDocument
  wikidata: Q82753

properties:
  path:
    type: string
    required: true
    description: Path relative to the source root (e.g., "Documents/notes.md")

  name:
    type: string
    description: File or directory name (basename of path)

  content:
    type: string
    description: File content as text (for read/write operations)

  size:
    type: integer
    description: File size in bytes (0 for directories)

  modified:
    type: datetime
    description: Last modified timestamp

  type:
    type: string
    description: '"file" or "directory"'

  # Optional: source identification (useful when aggregating from multiple sources)
  source:
    type: string
    description: Source identifier (e.g., "agent-drive", "google-drive", "local")

  mime_type:
    type: string
    description: MIME type (e.g., "text/plain", "image/png")

  url:
    type: string
    description: Web URL to view/download (for cloud sources)

operations: [list, read, write, delete]

display:
  primary: name
  secondary: size
  icon: file
  show_as_app: true  # Files app in desktop
